<% if flash[:notice] %>
  <div class="alert alert-success">
    <%= flash[:notice] %>
  </div>
<% end %>
<% if flash[:alert] %>
  <div class="alert alert-danger">
    <%= flash[:alert] %>
  </div>
  <% end %>

<h1>User info</h1>
  <div>
    <%= attachment_image_tag books.user, :profile_image, fallback: "no_image.jpg", size:'60x60' %>
  </div>
  <table>
    <tbody>
      <tr>
        <td>name</td>
        <td><%= books.user.name %></td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td>introduction</td>
        <td><%= books.user.introduction %></td>
      </tr>
    </tfoot>
  </table>

<p><%= link_to "edit user", edit_user_path(current_user.id) %></p>

<h1>New book</h1>
  <% if books.errors.any? %>
    <h2><%= books.errors.count %> errors prohibited this obj from being saved:</h2>
    <% books.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
  <% end %>

  <%= form_with model:book, local:true do |f| %>
    <label>Title</label>
    <%= f.text_field :title, autofocus: true %>
    <label>Option</label>
    <%= f.text_field :body %>
    <%= f.submit "Create Book" %>
  <% end %>
